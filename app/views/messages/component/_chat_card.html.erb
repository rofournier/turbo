<%= render layout: "shared/card", locals: { title: "Chat", color: "bg-purple-100", id: "chat-widget" } do %>
  <div class="flex flex-col h-full" data-controller="chat">
    <%= turbo_stream_from "chat" %>

    <div class="flex-1 overflow-auto mb-2">
      <%= render partial: "messages/component/messages", locals: { messages: @messages } %>
    </div>

    <div class="flex-shrink-0">
      <%= render partial: "messages/component/input_form"%>
    </div>
  </div>
<% end %>
